<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8"> 
    <link rel="stylesheet" type="text/css" href="sheets.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <title>Tavernish - A Dice Roller App</title>
    </head>
<body ontouchstart="">
    
<script>
  (function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
  fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'Messenger'));
</script>  
<script src="characters.js"></script>
    
<script>
    
    window.extAsyncInit = function() {
        var psid, chars, uri;
        console.log('the Messenger Extensions JS SDK is done loading');
        MessengerExtensions.getUserID(function success(uids) {
  	
            // User ID was successfully obtained. 
            
            psid = uids.psid;
            chars = characters;
            
            chars.map(function (current) {
            if (current.id == psid) {
                uri = current.lastName.toLowerCase();
                window.location.replace(uri + '.html')
            }
                
                else {
                document.getElementById('name').innerHTML = psid;
                }
            })            
  
        }, function error(err, errorMessage) {  
            
  	         console.log('No PSID available.');
        });
    controller.init();
    };
        
</script>
        
    
<header id="header">
    <h1 id="name">Tavernish</h1>
    
</header>
    
<hr>
<section id="result"></section> 


<script src="index.js"></script>
    
</body>
</html>