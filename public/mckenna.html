<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8"> 
    <link rel="stylesheet" type="text/css" href="sheets.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <title>Tavernish Dice Roller</title>
    </head>
<body id="body">
    
    
<script>
(function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'Messenger'));
</script>
    
<script>
var share;
  window.extAsyncInit = function() {
          var messageToShare = {
      "attachment":{
         "type":"template",
         "payload":{
             "template_type":"generic",
             "elements": [{
                 "title":"I took Peter's 'Which Hat Are You?' Quiz",
                 "image_url": "https://bot.peters-hats.com/img/hats/fez.jpg",
                 "subtitle": "My result: Fez",
                 "default_action":{
                     "type":"web_url",
                     "url": "https://bot.peters-hats.com/view_quiz_results.php?user=24601"
                 },
                 "buttons":[{
                     "type":"web_url",
                     "url":"https://bot.peters-hats.com/hatquiz.php?referer=24601",
                     "title":"Take the Quiz"
                 }]
             }]
         }
      }
    };
      share =  function() {
        MessengerExtensions.beginShareFlow(function success(response) {
            if(response.is_sent === true){ 
      	         // User shared. We're done here!
      	         MessengerExtensions.requestCloseBrowser();
            }
            else {
      	         // User canceled their share! 
      
            }
        }, 
        function error(errorCode, errorMessage) {      
  	             // An error occurred trying to share!
            },
        messageToShare,
        "current_thread");
    }
    share();
    console.log('the Messenger Extensions JS SDK is done loading'); 
  };
</script>    

<script src="characters.js"></script>
<script src="sheet.js"></script>
    
</body>
</html>